{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;AAAA,qCAA+C;AAC/C,MAAM,aAAa,GAAG,CAAC,KAAe,EAAE,EAAE;IACtC,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;IACzC,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC3B,IAAI,GAAG,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAEhC,IAAI,QAAQ,GAAG,CAAC,qBAAqB,CAAC,CAAC;IACvC,IAAI,UAAU,GAAG,CAAC,cAAc,EAAE,aAAa,EAAC,oBAAoB,EAAC,cAAc,EAAC,eAAe,EAAC,aAAa,EAAC,qBAAqB,CAAC,CAAC;IACzI,IAAI,KAAK,GAAG,CAAC,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE,SAAS,CAAC,CAAC;IAC/G,IAAI,MAAM,GAAG,CAAC,QAAQ,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC7E,IAAI,QAAQ,GAAG,CAAC,QAAQ,EAAE,YAAY,EAAE,UAAU,EAAE,SAAS,EAAE,OAAO,EAAE,UAAU,CAAC,CAAC;IACpF,IAAI,YAAY,GAAG,CAAC,QAAQ,EAAC,SAAS,EAAC,SAAS,EAAC,SAAS,EAAC,UAAU,EAAE,UAAU,CAAC,CAAC;IACnF,IAAI,YAAY,GAAG,CAAC,WAAW,EAAC,YAAY,EAAC,YAAY,EAAC,YAAY,EAAC,aAAa,EAAE,aAAa,EAAC,YAAY,CAAC,CAAC;IAClH,IAAI,KAAK,GAAG,CAAC,MAAM,EAAC,eAAe,EAAC,cAAc,EAAC,gBAAgB,EAAE,eAAe,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,EAAE,eAAe,EAAE,cAAc,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC;IACjM,IAAI,KAAK,GAAG,CAAC,MAAM,CAAC,CAAC;IAErB,KAAK,IAAI,GAAG,IAAI,QAAQ,EAAE;QACtB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,UAAU,EAAC,CAAC;KACrD;IACD,KAAK,IAAI,GAAG,IAAI,UAAU,EAAE;QACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC;KACvD;IACD,KAAK,IAAI,GAAG,IAAI,KAAK,EAAC;QAClB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;KAClD;IACD,KAAK,IAAI,IAAI,IAAI,KAAK,EAAC;QACnB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;KAClD;IACD,KAAK,IAAI,KAAK,IAAI,MAAM,EAAC;QACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;KACpD;IACD,KAAK,IAAI,OAAO,IAAI,QAAQ,EAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,SAAS,EAAC,CAAC;KACxD;IACD,KAAK,IAAI,GAAG,IAAI,YAAY,EAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;KACzD;IACD,KAAK,IAAI,GAAG,IAAI,YAAY,EAAC;QACzB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;KACzD;IACD,KAAK,IAAI,GAAG,IAAI,KAAK,EAAC;QAClB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;YAAE,OAAO,EAAC,IAAI,EAAE,OAAO,EAAC,CAAC;KAClD;IACD,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC;QAAG,OAAO,EAAC,IAAI,EAAE,QAAQ,EAAC,CAAC;IAE/C,OAAO,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;AAC1B,CAAC,CAAA;AAED,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAc;;IAC3B,IAAI,KAAK,GAAG,CAAC,CAAC;IACd,IAAI,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;IACvB,GAAG,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;IACvB,IAAI,iBAAiB,GAAG,CAAC,UAAU,EAAE,SAAS,EAAE,wBAAwB,EAAE,mBAAmB,EAAE,kBAAkB,CAAC,CAAC;IACnH,IAAI,uBAAuB,GAAG,CAAC,sHAAsH,EAAE,kIAAkI;QACrR,qHAAqH,EAAE,4IAA4I;QACnQ,uHAAuH,CAAC,CAAC;IAC7H,IAAI,0BAA0B,GAAG,CAAC,kHAAkH,EAAE,8HAA8H;QAChR,iHAAiH,EAAE,wIAAwI;QAC3P,mHAAmH,CAAC,CAAC;IACzH,IAAI,yBAAyB,GAAG,CAAC,uHAAuH,EAAE,kIAAkI;QACxR,qHAAqH,EAAE,4IAA4I;QACnQ,uHAAuH,CAAC,CAAC;IAC7H,IAAI,4BAA4B,GAAG,CAAC,mHAAmH,EAAE,8HAA8H;QACnR,iHAAiH,EAAE,wIAAwI;QAC3P,mHAAmH,CAAC,CAAC;IACzH,IAAI,mBAAmB,GAAG,CAAC,cAAc,EAAE,cAAc,EAAE,eAAe,EAAE,iBAAiB,CAAC,CAAC;IAC/F,IAAI,mBAAmB,GAAG,CAAC,mBAAmB,EAAE,0BAA0B,EAAE,mBAAmB,EAAE,wBAAwB,CAAC,CAAC;IAC3H,IAAI,EAAC,MAAM,EAAE,MAAM,EAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;IAEhD,IAAI,MAAM,CAAC;IACX,IAAI,WAAW,CAAC;IAChB,MAAM,GAAG,4DAA4D,CAAC,MAAM,KAAK,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,2JAA2J,CAAC;IACzQ,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC;IACjB,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IAC1B,MAAM,GAAG,CAAC;IAEV,OAAO,IAAI,EAAE;QACT,GAAG,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC;QACnB,GAAG,CAAC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;QACvB,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC;QACzC,MAAM,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC;QACzC,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe,IAAI,CAAA,MAAA,CAAC,CAAC,GAAG,0CAAE,SAAS,MAAK,MAAM,EAAE;YAC3D,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,MAAM,EAAC,CAAA;YACzB,GAAG,CAAC,GAAG,GAAG,8PAA8P,CAAC;SAC5Q;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe,IAAI,CAAA,MAAA,CAAC,CAAC,GAAG,0CAAE,SAAS,MAAK,SAAS,EAAE;YACrE,GAAG,CAAC,GAAG,GAAG,gBAAgB,CAAC;YAC3B,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,SAAS,EAAC,CAAC;SAChC;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe,IAAI,CAAA,MAAA,CAAC,CAAC,GAAG,0CAAE,SAAS,MAAK,YAAY,EAAE;YACxE,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,YAAY,EAAC,CAAC;YAChC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;YACnE,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC;SAC5C;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe,IAAI,CAAA,MAAA,CAAC,CAAC,GAAG,0CAAE,SAAS,MAAK,cAAc,EAAE;YAC1E,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;YAClC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC;YACrE,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC,WAAW,CAAC,CAAC;SAC9C;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe,IAAI,CAAA,MAAA,CAAC,CAAC,GAAG,0CAAE,SAAS,MAAK,cAAc,EAAE;YAC1E,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,cAAc,EAAC,CAAC;YAClC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC;YACrE,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC,WAAW,CAAC,CAAC;SAC9C;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,kBAAkB,IAAI,CAAC,CAAC,IAAI,KAAK,eAAe;YAClE,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,CAAC,CAAC,IAAI,KAAK,WAAW,EAAE;YAChD,GAAG,CAAC,IAAI,GAAG,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;YAC1B,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC;SACjC;aAAM,IAAI,CAAC,CAAC,IAAI,KAAK,kBAAkB,EAAE;YACtC,IAAI,KAAK,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC;YACxB,IAAI,OAAO,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;YACnC,IAAI,OAAO,CAAC,IAAI,KAAK,YAAY,EAAE;gBAC/B,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,iBAAiB,CAAC,MAAM,CAAC,CAAC;gBACvE,GAAG,CAAC,GAAG,GAAG,iBAAiB,CAAC,WAAW,CAAC,CAAC;gBACzC,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aACtB;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,cAAc,EAAE;gBACxC,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBACzE,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC,WAAW,CAAC,CAAC;gBAC3C,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aACtB;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,cAAc,EAAE;gBACxC,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,mBAAmB,CAAC,MAAM,CAAC,CAAC;gBACzE,GAAG,CAAC,GAAG,GAAG,mBAAmB,CAAC,WAAW,CAAC,CAAC;gBAC3C,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aACtB;iBAAO,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO,EAAE;gBAClC,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;gBACnB,GAAG,CAAC,GAAG,GAAG,UAAU,CAAC;aACxB;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE;gBAChC,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;gBACnB,GAAG,CAAC,GAAG,GAAG,gRAAgR,CAAC;aAC9R;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,SAAS,EAAE;gBACnC,GAAG,CAAC,GAAG,GAAG,gBAAgB,CAAC;gBAC3B,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aACtB;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO,EAAE;gBAC7B,GAAG,CAAC,GAAG,GAAI,+PAA+P,CAAC;gBAC3Q,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aAC1B;iBAAM,IAAI,OAAO,CAAC,IAAI,KAAK,UAAU,EAAE;gBACpC,IAAI,KAAK,IAAI,CAAC,EAAE;oBACZ,GAAG,CAAC,GAAG,GAAG,qQAAqQ,CAAC;oBAChR,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;oBACnB,KAAK,IAAE,CAAC,CAAC;iBACZ;aACJ;iBACI,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO,EAAE;gBAC/B,GAAG,CAAC,GAAG,GAAG,YAAY,CAAC;gBACvB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;gBACnB,GAAG,CAAC,IAAI,CAAC,WAAW,GAAG,aAAa,CAAC;aACxC;iBACI,IAAI,OAAO,CAAC,IAAI,KAAK,QAAQ,EAAC;gBAC/B,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;gBACb,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;aACjB;iBACI,IAAI,OAAO,CAAC,IAAI,KAAK,MAAM,EAAE;gBAC9B,IAAI,EAAC,MAAM,EAAE,MAAM,EAAC,GAAG,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC;gBAChD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;gBAC5B,IAAI,MAAM,KAAK,MAAM,EAAE;oBACnB,IAAI,MAAM,KAAK,UAAU,EAAE;wBACvB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,uBAAuB,CAAC,MAAM,CAAC,CAAC;wBAC7E,MAAM,GAAG,uBAAuB,CAAC,WAAW,CAAC,CAAC;qBACjD;yBAAM;wBACH,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,0BAA0B,CAAC,MAAM,CAAC,CAAC;wBAChF,MAAM,GAAG,0BAA0B,CAAC,WAAW,CAAC,CAAC;qBACpD;iBACJ;qBAAM;oBACH,IAAI,MAAM,KAAK,UAAU,EAAE;wBACvB,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,yBAAyB,CAAC,MAAM,CAAC,CAAC;wBAC/E,MAAM,GAAG,yBAAyB,CAAC,WAAW,CAAC,CAAC;qBACnD;yBAAM;wBACH,IAAI,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,4BAA4B,CAAC,MAAM,CAAC,CAAC;wBAClF,MAAM,GAAG,4BAA4B,CAAC,WAAW,CAAC,CAAC;qBACtD;iBACJ;gBACD,GAAG,CAAC,GAAG,GAAG,MAAM,CAAC;gBACjB,GAAG,CAAC,IAAI,GAAG,OAAO,CAAC;aACtB;YACD,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;SACxB;aACG;YACA,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC;YACb,GAAG,CAAC,IAAI,GAAG,EAAE,CAAC;SACjB;QACD,MAAM,GAAG,CAAC;KACb;AACL,CAAC;AAED,iBAAO;KACF,cAAc,CAAC,MAA2B,CAAC;KAC3C,KAAK,EAAE,CAAC","sourcesContent":["import { Dialute, SberRequest } from 'dialute';\r\nconst textToCommand = (texts: string[]) => {\r\n    console.log('textToCommand in index.ts');\r\n    let text = texts.join(' ');\r\n    text = text.toLocaleLowerCase();\r\n\r\n    let smartapp = ['Английский крокодил'];\r\n    let changeword = ['покажи слово', 'новое слово','покажи новое слово','другое слово','поменяй слово','смени слово','покажи другое слово'];\r\n    let helps = ['справка', 'помог', 'помощ', 'как игр', 'научи', 'почему', 'что делать', 'что умеешь', 'правила'];\r\n    let greets = ['привет', 'здравствуй', 'здарова', 'здорова', 'хай', 'хеллоу'];\r\n    let restarts = ['заново', 'новая игра', 'с начала', 'перезап', 'снова', 'по новой'];\r\n    let guessedright = ['угадал','угадано','выиграл','отгадал','отгадано', 'выиграно'];\r\n    let guessedwrong = ['не угадал','не угадано','не выиграл','не отгадал','не отгадано', 'не выиграно','неугаданно'];\r\n    let close = ['закр','закрой помощь','скрой помощь','закрой справку', 'скрой справку', 'закрой мануал', 'скрой мануал', 'убери помощь', 'убери справку', 'убери мануал', 'поня', 'ясно', 'понял'];\r\n    let value = ['оцен'];\r\n\r\n    for (let dir of smartapp) {\r\n        if (text.includes(dir)) return {type: 'smartapp'};\r\n    }\r\n    for (let dir of changeword) {\r\n        if (text.includes(dir)) return {type: 'changeword'};\r\n    }\r\n    for (let dir of close){\r\n        if (text.includes(dir)) return {type: 'close'};\r\n    }\r\n    for (let help of helps){\r\n        if (text.includes(help)) return {type: 'help'};\r\n    }\r\n    for (let greet of greets){\r\n        if (text.includes(greet)) return {type: 'greet'};\r\n    }\r\n    for (let restart of restarts){\r\n        if (text.includes(restart)) return {type: 'restart'};\r\n    }\r\n    for (let dir of guessedwrong){\r\n        if (text.includes(dir)) return {type: 'guessedwrong'};\r\n    }\r\n    for (let dir of guessedright){\r\n        if (text.includes(dir)) return {type: 'guessedright'};\r\n    }\r\n    for (let dir of value){\r\n        if (text.includes(dir)) return {type: 'value'};\r\n    }\r\n    if (text.length <= 1 ) return {type: 'double'};\r\n\r\n    return {type: 'fail'};\r\n}\r\n\r\nfunction* script(r: SberRequest) {\r\n    let count = 0;\r\n    let rsp = r.buildRsp();\r\n    rsp.kbrd = ['Оценить'];\r\n    let changewordPhrases = ['Сделано!', 'Готово!', 'Новое слово на экране!', 'Внимание на экран', 'Слово появилось!'];\r\n    let maleofficialFailPhrases = ['Я пока не выучил эту команду. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет', 'Расшифровка этого займет несколько часов. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Над этим мне нужно подумать. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет', 'Разработчики работают над добавлением этой команды. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Скоро я пойму, что это значит. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет'];\r\n    let maleno_officialFailPhrases = ['Я пока не выучил эту команду. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет', 'Расшифровка этого займет несколько часов. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Над этим мне нужно подумать. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет', 'Разработчики работают над добавлением этой команды. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Скоро я пойму, что это значит. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет'];\r\n    let femaleofficialFailPhrases = ['Я пока не выучила эту команду. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет', 'Расшифровка этого займет несколько часов. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Над этим мне нужно подумать. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет', 'Разработчики работают над добавлением этой команды. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Скоро я пойму, что это значит. Лучше скажите «помощь» или нажмите на одноимённую кнопку, возможно, это чем-то поможет'];\r\n    let femaleno_officialFailPhrases = ['Я пока не выучила эту команду. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет', 'Расшифровка этого займет несколько часов. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Над этим мне нужно подумать. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет', 'Разработчики работают над добавлением этой команды. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет',\r\n        'Скоро я пойму, что это значит. Лучше скажи «помощь» или нажми на одноимённую кнопку, возможно, это чем-то поможет'];\r\n    let GuessedRightPhrases = ['Так держать!', 'Превосходно!', 'Замечательно!', 'Хорошая работа!'];\r\n    let GuessedWrongPhrases = ['Ничего страшного!', 'Повезёт в следующий раз!', 'Не всё так плохо!', 'Неприятности случаются'];\r\n    let {gender, appeal} = r.body.payload.character;\r\n    \r\n    let phrase;\r\n    let phraseIndex;\r\n    phrase = `Добро пожаловать в приложение «Английский крокодил»! где ${(appeal === 'official' ? 'вам' : 'тебе')} нужно объяснить слово с экрана, используя только мимику, жесты и движения. Все слова даны на английском, надеюсь это поможет улучшить твои навыки в нем!`;\r\n    rsp.msg = phrase;\r\n    rsp.data = {type: 'init'};\r\n    yield rsp;\r\n\r\n    while (true) {\r\n        rsp = r.buildRsp();\r\n        rsp.kbrd = ['Оценить'];\r\n        gender = r.body.payload.character.gender;\r\n        appeal = r.body.payload.character.appeal;\r\n        if (r.type === 'SERVER_ACTION' && r.act?.action_id === 'help') {\r\n            rsp.data = {type: 'help'}\r\n            rsp.msg = 'Суть игры - объяснить слово с экрана, используя только мимику, жесты и движения. Кнопка «Новое слово»  - выдает новое слово. Кнопка \"Угадано\" увеличивает счетчик отгаданных слов. Удачной игры! Чтобы закрыть это окно - достаточно сказать «Закрой помощь»';\r\n        } else if (r.type === 'SERVER_ACTION' && r.act?.action_id === 'restart') {\r\n            rsp.msg = 'Начинаю заново';\r\n            rsp.data = {type: 'restart'};\r\n        } else if (r.type === 'SERVER_ACTION' && r.act?.action_id === 'changeword') {\r\n            rsp.data = {type: 'changeword'};\r\n            phraseIndex = Math.floor(Math.random() * changewordPhrases.length);\r\n            rsp.msg = changewordPhrases[phraseIndex];\r\n        } else if (r.type === 'SERVER_ACTION' && r.act?.action_id === 'guessedright') {\r\n            rsp.data = {type: 'guessedright'};\r\n            phraseIndex = Math.floor(Math.random() * GuessedRightPhrases.length);\r\n            rsp.msg = GuessedRightPhrases[phraseIndex];\r\n        } else if (r.type === 'SERVER_ACTION' && r.act?.action_id === 'guessedwrong') {\r\n            rsp.data = {type: 'guessedwrong'};\r\n            phraseIndex = Math.floor(Math.random() * GuessedWrongPhrases.length);\r\n            rsp.msg = GuessedWrongPhrases[phraseIndex];\r\n        } else if (r.type !== \"MESSAGE_TO_SKILL\" && r.type !== \"SERVER_ACTION\" &&\r\n            r.type !== \"RUN_APP\" && r.type !== \"CLOSE_APP\") {\r\n            rsp.data = {type: 'mark'};\r\n            rsp.msg = 'Спасибо за оценку';\r\n        } else if (r.type === 'MESSAGE_TO_SKILL') {\r\n            let texts = r.nlu.texts;\r\n            let command = textToCommand(texts);\r\n            if (command.type === 'changeword') {\r\n                let phraseIndex = Math.floor(Math.random() * changewordPhrases.length);\r\n                rsp.msg = changewordPhrases[phraseIndex];\r\n                rsp.data = command;\r\n            } else if (command.type === 'guessedright') {\r\n                let phraseIndex = Math.floor(Math.random() * GuessedRightPhrases.length);\r\n                rsp.msg = GuessedRightPhrases[phraseIndex];\r\n                rsp.data = command;\r\n            } else if (command.type === 'guessedwrong') {\r\n                let phraseIndex = Math.floor(Math.random() * GuessedWrongPhrases.length);\r\n                rsp.msg = GuessedWrongPhrases[phraseIndex];\r\n                rsp.data = command;\r\n            }  else if (command.type === 'close') {\r\n                rsp.data = command;\r\n                rsp.msg = 'Закрываю';\r\n            } else if (command.type === 'help') {\r\n                rsp.data = command;\r\n                rsp.msg = 'Суть игры - объяснить слово с экрана, используя только мимику, жесты и движения. Кнопка «Новое слово»  - выдает новое слово из того же режима. Кнопка \"Угадано\" увеличивает счетчик отгаданных слов. Удачной игры! Чтобы закрыть это окно - достаточно сказать «Закрой помощь»';\r\n            } else if (command.type === 'restart') {\r\n                rsp.msg = 'Начинаю заново';\r\n                rsp.data = command;\r\n            } else if (command.type === 'greet') {\r\n                    rsp.msg =  ` Добро пожаловать в приложение «Английский крокодил»! Данный смартап предназначен для всем известной игры, где тебе нужно объяснить слово с экрана, используя только мимику, жесты и движения. Здесь можно попросить новое слово, вести счёт отгаданных слов!`;\r\n                    rsp.data = command;\r\n            } else if (command.type === 'smartapp') {\r\n                if (count == 0) {\r\n                    rsp.msg = ` Добро пожаловать в приложение «Английский крокодил»! Данный смартап предназначен для всем известной игры, где тебе нужно объяснить слово с экрана, используя только мимику, жесты и движения. Здесь можно попросить новое слово,и даже вести счёт отгаданных слов!`;\r\n                    rsp.data = command;\r\n                    count+=1;\r\n                }\r\n            }\r\n            else if (command.type === 'value') {\r\n                rsp.msg = 'Оценивание';\r\n                rsp.data = command;\r\n                rsp.body.messageName = 'CALL_RATING';\r\n            }\r\n            else if (command.type === \"double\"){\r\n                rsp.msg = '';\r\n                rsp.data = {};\r\n            }\r\n            else if (command.type === 'fail') {\r\n                let {gender, appeal} = r.body.payload.character;\r\n                console.log(gender, appeal);\r\n                if (gender === 'male') {\r\n                    if (appeal === 'official') {\r\n                        let phraseIndex = Math.floor(Math.random() * maleofficialFailPhrases.length);\r\n                        phrase = maleofficialFailPhrases[phraseIndex];\r\n                    } else {\r\n                        let phraseIndex = Math.floor(Math.random() * maleno_officialFailPhrases.length);\r\n                        phrase = maleno_officialFailPhrases[phraseIndex];\r\n                    }\r\n                } else {\r\n                    if (appeal === 'official') {\r\n                        let phraseIndex = Math.floor(Math.random() * femaleofficialFailPhrases.length);\r\n                        phrase = femaleofficialFailPhrases[phraseIndex];\r\n                    } else {\r\n                        let phraseIndex = Math.floor(Math.random() * femaleno_officialFailPhrases.length);\r\n                        phrase = femaleno_officialFailPhrases[phraseIndex];\r\n                    }\r\n                }\r\n                rsp.msg = phrase;\r\n                rsp.data = command;\r\n            }\r\n            console.log(command);\r\n        }\r\n        else{\r\n            rsp.msg = '';\r\n            rsp.data = {};\r\n        }\r\n        yield rsp;\r\n    }\r\n}\r\n\r\nDialute\r\n    .fromEntrypoint(script as GeneratorFunction)\r\n    .start();"]}